# 3.5. Потоковый ввод/вывод. Работа с текстовыми файлами. JSON
A. A+B+...
```python
from sys import stdin

ans = 0
for line in stdin.readlines():
    for j in line.split():
        ans += int(j)
print(ans)
```
B. Средний рост
```python
import sys

lst = [line.strip() for line in sys.stdin.readlines()]
ans = 0
for line in lst:
    a, b = int(line.split()[1]), int(line.split()[2])
    ans += (b - a)
print(round(ans / len(lst)))
```
C. Без комментариев 2.0
```python
from sys import stdin

for line in stdin.readlines():
    if not line.startswith('#'):
        print(line[:line.find('#')])
```
D. Найдётся всё 2.0
```python
from sys import stdin

lst = [line.rstrip() for line in stdin.readlines()]
query = lst.pop()
for line in lst:
    if query.lower() in line.lower():
        print(line)
```
E. А роза упала на лапу Азора 6.0
```python
from sys import stdin

lst = []
for line in stdin.readlines():
    lst.extend(line.split())
ans = [line for line in lst if line.lower() == line[::-1].lower()]
for i in sorted(set(ans)):
    print(i)
```
F. Транслитерация 2.0
```python
d = {
    'А': 'A', 'Б': 'B', 'В': 'V',
    'Г': 'G', 'Д': 'D', 'Е': 'E',
    'Ё': 'E', 'Ж': 'ZH', 'З': 'Z',
    'И': 'I', 'Й': 'I', 'К': 'K',
    'Л': 'L', 'М': 'M', 'Н': 'N',
    'О': 'O', 'П': 'P', 'Р': 'R',
    'С': 'S', 'Т': 'T', 'У': 'U',
    'Ф': 'F', 'Х': 'KH', 'Ц': 'TC',
    'Ч': 'CH', 'Ш': 'SH', 'Щ': 'SHCH',
    'Ы': 'Y', 'Э': 'E', 'Ю': 'IU',
    'Я': 'IA', 'Ь': '', 'Ъ': '',
}

a, b = str(), str()
with open("cyrillic.txt", encoding="UTF-8") as file:
    for line in file:
        a += line

for i in a:
    if i.upper() in d:
        b += d[i.upper()].lower().capitalize() if i == i.upper() else d[i.upper()].lower()
    else:
        b += i

with open("transliteration.txt", "w", encoding="UTF-8") as file:
    print(b, file=file)
```
G. Файловая статистика
```python
s = str(input())
lst = []
with open(s, 'r') as file:
    for line in file:
        for i in line.split():
            lst.append(int(i))

print(
    len(lst),
    len([i for i in lst if i > 0]),
    min(lst),
    max(lst),
    sum(lst),
    round(sum(lst) / len(lst), 2),
    sep='\n'
)
```
H. Файловая разница
```python
a, b, c = [str(input()) for _ in range(3)]
s1, s2 = set(), set()
with open(a, 'r') as f:
    for i in f:
        for j in i.split():
            s1.add(j)
with open(b, 'r') as f:
    for i in f:
        for j in i.split():
            s2.add(j)
with open(c, 'w') as f:
    for i in sorted(s1 ^ s2):
        print(i, file=f)
```
I. Файловая чистка
```python
a, b = str(input()), str(input())
lst = []
with open(a, 'r') as f:
    for line in f:
        lst.append(line.strip().replace('\t', '').split())
data = [i for i in lst if any(i)]
with open(b, 'w') as g:
    for line in data:
        print(' '.join(line), file=g)
```
J. Хвост
```python
f = str(input())
n = int(input())
lst = []
with open(f) as file:
    for line in file:
        lst.append(line)
for line in lst[-n:]:
    print(line.strip())
```
K. Файловая статистика 2.0
```python
import json


def main() -> None:
    file_in, file_out = [input() for _ in range(2)]
    lst = []
    with open(file_in, "r") as file:
        for line in file:
            lst.extend([int(x) for x in line.split()])
    data = {
        "count": len(lst),
        "positive_count": len([x for x in lst if x > 0]),
        "min": min(lst),
        "max": max(lst),
        "sum": sum(lst),
        "average": round(sum(lst) / len(lst), 2),
    }
    with open(file_out, "w", encoding="UTF-8") as file:
        json.dump(data, file, ensure_ascii=False, indent=4)


if __name__ == "__main__":
    main()
```
L. Разделяй и властвуй
```python
def parity_compare(values: list) -> int:
    even_count = sum(1 for val in values if int(val) % 2 == 0)
    odd_count = len(values) - even_count
    if even_count > odd_count:
        return 0
    elif even_count < odd_count:
        return 1
    else:
        return 2


def main() -> None:
    input_file, output_even, output_odd, output_equal = [input() for _ in range(4)]
    data_rows, category_index = [], 0

    with open(input_file, encoding="UTF-8") as infile:
        for line in infile:
            data_rows.append(line.split())

    for output_file in (output_even, output_odd, output_equal):
        with open(output_file, "w", encoding="UTF-8") as outfile:
            for row in data_rows:
                for element in row:
                    if parity_compare(element) == category_index:
                        print(element, end=" ", file=outfile)
                print("", file=outfile)
        category_index += 1


if __name__ == "__main__":
    main()
```
M. Обновление данных
```python
import json
from sys import stdin


def main() -> None:
    path = input().strip()
    with open(path, encoding="UTF-8") as f:
        obj = json.load(f)
    for line in stdin:
        if "==" in line:
            key, val = line.split("==", 1)
            obj[key.strip()] = val.strip()
    with open(path, "w", encoding="UTF-8") as f:
        json.dump(obj, f, ensure_ascii=False, indent=2)


if __name__ == "__main__":
    main()
```
N. Слияние данных
```python
import json


def main() -> None:
    a, b = [input().strip() for _ in range(2)]
    x, y = {}, {}
    with open(a, encoding="utf-8") as f:
        x = {i["name"]: {k: v for k, v in i.items() if k != "name"} for i in json.load(f)}
    with open(b, encoding="utf-8") as f:
        y = json.load(f)
    for row in y:
        name = row["name"]
        if name in x:
            for k, v in row.items():
                if k != "name" and (k not in x[name] or v > x[name][k]):
                    x[name][k] = v
        else:
            x[name] = {k: v for k, v in row.items() if k != "name"}
    with open(a, "w", encoding="utf-8") as f:
        json.dump(x, f, ensure_ascii=False, indent=2)


if __name__ == "__main__":
    main()
```
O. Поставь себя на моё место
```python
from sys import stdin
import json


def main() -> None:
    answers = [s.strip() for s in stdin]
    with open("scoring.json", encoding="utf-8") as f:
        blocks = json.load(f)
    score = idx = 0
    weights = [
        {t["pattern"]: b["points"] // len(b["tests"]) for t in b["tests"]}
        for b in blocks
    ]
    for group in weights:
        for k in range(idx, idx + len(group)):
            if answers[k] in group:
                score += group[answers[k]]
            idx += 1
    print(score)


if __name__ == "__main__":
    main()
```
P. Найдётся всё 3.0
```python
from sys import stdin


def normalize(s: str) -> str:
    s = s.replace("\n", " ")
    while "  " in s:
        s = s.replace("  ", " ")
    return s


def main() -> None:
    query = input().strip().lower()
    files = [line.strip() for line in stdin]
    found = False
    for path in files:
        with open(path, encoding="utf-8") as f:
            text = normalize("".join(f).lower())
            if query in text:
                print(path)
                found = True
    if not found:
        print("404. Not Found")


if __name__ == "__main__":
    main()
```
Q. Прятки
```python
def main() -> None:
    with open("secret.txt", encoding="utf-8") as f:
        print("".join(chr(ord(c) % 128) for c in f.read()), end="")


if __name__ == "__main__":
    main()
```
R. Сколько вешать в байтах?
```python
import os
import math


def main() -> None:
    path = input().strip()
    size = os.path.getsize(path)
    units = ["Б", "КБ", "МБ", "ГБ"]
    i = 0
    while size >= 1024 and i < len(units) - 1:
        size = math.ceil(size / 1024)
        i += 1
    print(f"{size}{units[i]}")


if __name__ == "__main__":
    main()
```
S. Это будет наш секрет
```python
def main() -> None:
    k = int(input())
    abc = "".join(chr(i) for i in range(ord("a"), ord("z") + 1))
    with open("public.txt", encoding="utf-8") as f:
        text = f.read()
    out = []
    for ch in text:
        low = ch.lower()
        if low in abc:
            enc = abc[(abc.index(low) + k) % 26]
            out.append(enc.upper() if ch.isupper() else enc)
        else:
            out.append(ch)
    with open("private.txt", "w", encoding="utf-8") as f:
        f.write("".join(out))


if __name__ == "__main__":
    main()
```
T. Файловая сумма
```python
with open("numbers.num", "rb") as f:
    data = f.read()
print(sum([int.from_bytes(data[i:i + 2], "big") for i in range(0, len(data), 2)]) % 2**16)
```
